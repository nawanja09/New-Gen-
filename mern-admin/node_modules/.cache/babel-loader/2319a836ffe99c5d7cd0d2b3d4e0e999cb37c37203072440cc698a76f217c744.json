{"ast":null,"code":"let FractionJs = require('fraction.js');\nlet Prefixer = require('./prefixer');\nlet utils = require('./utils');\nconst REGEXP = /(min|max)-resolution\\s*:\\s*\\d*\\.?\\d+(dppx|dpcm|dpi|x)/gi;\nconst SPLIT = /(min|max)-resolution(\\s*:\\s*)(\\d*\\.?\\d+)(dppx|dpcm|dpi|x)/i;\nclass Resolution extends Prefixer {\n  /**\r\n   * Remove prefixed queries\r\n   */\n  clean(rule) {\n    if (!this.bad) {\n      this.bad = [];\n      for (let prefix of this.prefixes) {\n        this.bad.push(this.prefixName(prefix, 'min'));\n        this.bad.push(this.prefixName(prefix, 'max'));\n      }\n    }\n    rule.params = utils.editList(rule.params, queries => {\n      return queries.filter(query => this.bad.every(i => !query.includes(i)));\n    });\n  }\n\n  /**\r\n   * Return prefixed query name\r\n   */\n  prefixName(prefix, name) {\n    if (prefix === '-moz-') {\n      return name + '--moz-device-pixel-ratio';\n    } else {\n      return prefix + name + '-device-pixel-ratio';\n    }\n  }\n\n  /**\r\n   * Return prefixed query\r\n   */\n  prefixQuery(prefix, name, colon, value, units) {\n    value = new FractionJs(value);\n\n    // 1dpcm = 2.54dpi\n    // 1dppx = 96dpi\n    if (units === 'dpi') {\n      value = value.div(96);\n    } else if (units === 'dpcm') {\n      value = value.mul(2.54).div(96);\n    }\n    value = value.simplify();\n    if (prefix === '-o-') {\n      value = value.n + '/' + value.d;\n    }\n    return this.prefixName(prefix, name) + colon + value;\n  }\n\n  /**\r\n   * Add prefixed queries\r\n   */\n  process(rule) {\n    let parent = this.parentPrefix(rule);\n    let prefixes = parent ? [parent] : this.prefixes;\n    rule.params = utils.editList(rule.params, (origin, prefixed) => {\n      for (let query of origin) {\n        if (!query.includes('min-resolution') && !query.includes('max-resolution')) {\n          prefixed.push(query);\n          continue;\n        }\n        for (let prefix of prefixes) {\n          let processed = query.replace(REGEXP, str => {\n            let parts = str.match(SPLIT);\n            return this.prefixQuery(prefix, parts[1], parts[2], parts[3], parts[4]);\n          });\n          prefixed.push(processed);\n        }\n        prefixed.push(query);\n      }\n      return utils.uniq(prefixed);\n    });\n  }\n}\nmodule.exports = Resolution;","map":{"version":3,"names":["FractionJs","require","Prefixer","utils","REGEXP","SPLIT","Resolution","clean","rule","bad","prefix","prefixes","push","prefixName","params","editList","queries","filter","query","every","i","includes","name","prefixQuery","colon","value","units","div","mul","simplify","n","d","process","parent","parentPrefix","origin","prefixed","processed","replace","str","parts","match","uniq","module","exports"],"sources":["D:/SLIIT IT/Year 2 semster 2/ITP/Project/Smart TechHub Management System/New-Gen-/mern-admin/node_modules/autoprefixer/lib/resolution.js"],"sourcesContent":["let FractionJs = require('fraction.js')\r\n\r\nlet Prefixer = require('./prefixer')\r\nlet utils = require('./utils')\r\n\r\nconst REGEXP = /(min|max)-resolution\\s*:\\s*\\d*\\.?\\d+(dppx|dpcm|dpi|x)/gi\r\nconst SPLIT = /(min|max)-resolution(\\s*:\\s*)(\\d*\\.?\\d+)(dppx|dpcm|dpi|x)/i\r\n\r\nclass Resolution extends Prefixer {\r\n  /**\r\n   * Remove prefixed queries\r\n   */\r\n  clean(rule) {\r\n    if (!this.bad) {\r\n      this.bad = []\r\n      for (let prefix of this.prefixes) {\r\n        this.bad.push(this.prefixName(prefix, 'min'))\r\n        this.bad.push(this.prefixName(prefix, 'max'))\r\n      }\r\n    }\r\n\r\n    rule.params = utils.editList(rule.params, queries => {\r\n      return queries.filter(query => this.bad.every(i => !query.includes(i)))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Return prefixed query name\r\n   */\r\n  prefixName(prefix, name) {\r\n    if (prefix === '-moz-') {\r\n      return name + '--moz-device-pixel-ratio'\r\n    } else {\r\n      return prefix + name + '-device-pixel-ratio'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return prefixed query\r\n   */\r\n  prefixQuery(prefix, name, colon, value, units) {\r\n    value = new FractionJs(value)\r\n\r\n    // 1dpcm = 2.54dpi\r\n    // 1dppx = 96dpi\r\n    if (units === 'dpi') {\r\n      value = value.div(96)\r\n    } else if (units === 'dpcm') {\r\n      value = value.mul(2.54).div(96)\r\n    }\r\n    value = value.simplify()\r\n\r\n    if (prefix === '-o-') {\r\n      value = value.n + '/' + value.d\r\n    }\r\n    return this.prefixName(prefix, name) + colon + value\r\n  }\r\n\r\n  /**\r\n   * Add prefixed queries\r\n   */\r\n  process(rule) {\r\n    let parent = this.parentPrefix(rule)\r\n    let prefixes = parent ? [parent] : this.prefixes\r\n\r\n    rule.params = utils.editList(rule.params, (origin, prefixed) => {\r\n      for (let query of origin) {\r\n        if (\r\n          !query.includes('min-resolution') &&\r\n          !query.includes('max-resolution')\r\n        ) {\r\n          prefixed.push(query)\r\n          continue\r\n        }\r\n\r\n        for (let prefix of prefixes) {\r\n          let processed = query.replace(REGEXP, str => {\r\n            let parts = str.match(SPLIT)\r\n            return this.prefixQuery(\r\n              prefix,\r\n              parts[1],\r\n              parts[2],\r\n              parts[3],\r\n              parts[4]\r\n            )\r\n          })\r\n          prefixed.push(processed)\r\n        }\r\n        prefixed.push(query)\r\n      }\r\n\r\n      return utils.uniq(prefixed)\r\n    })\r\n  }\r\n}\r\n\r\nmodule.exports = Resolution\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}