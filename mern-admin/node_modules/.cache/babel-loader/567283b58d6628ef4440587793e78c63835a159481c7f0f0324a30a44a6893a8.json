{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{PDFDownloadLink,Page,Text,View,Document,StyleSheet}from\"@react-pdf/renderer\";// Define styles for the PDF report\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const pdfStyles=StyleSheet.create({page:{flexDirection:\"column\",padding:10},section:{marginBottom:10},header:{fontSize:20,marginBottom:10},row:{flexDirection:\"row\"},cell:{flex:1,padding:5,textAlign:\"center\"}});const Reports=()=>{const[items,setItems]=useState([]);const[startDate,setStartDate]=useState(\"\");const[endDate,setEndDate]=useState(\"\");useEffect(()=>{fetchItems();},[startDate,endDate]);const fetchItems=async()=>{try{let url=\"/api/items\";if(startDate&&endDate){url+=\"?startDate=\".concat(startDate,\"&endDate=\").concat(endDate);}const response=await fetch(url);const data=await response.json();setItems(data);}catch(error){console.error(\"Error fetching items:\",error);}};// Define the PDF report component\nconst PdfReport=()=>/*#__PURE__*/_jsx(Document,{children:/*#__PURE__*/_jsx(Page,{size:\"A4\",style:pdfStyles.page,children:/*#__PURE__*/_jsxs(View,{style:pdfStyles.section,children:[/*#__PURE__*/_jsx(Text,{style:pdfStyles.header,children:\"Reports\"}),/*#__PURE__*/_jsxs(View,{style:pdfStyles.row,children:[/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:\"Date\"}),/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:\"Category\"}),/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:\"Quantity\"})]}),items.map(item=>/*#__PURE__*/_jsxs(View,{style:pdfStyles.row,children:[/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:item.date}),/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:item.category}),/*#__PURE__*/_jsx(Text,{style:pdfStyles.cell,children:item.quantity})]},item._id))]})})});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Reports\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>setStartDate(e.target.value),className:\"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:e=>setEndDate(e.target.value),className:\"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow\"}),/*#__PURE__*/_jsx(PDFDownloadLink,{document:/*#__PURE__*/_jsx(PdfReport,{}),fileName:\"report.pdf\",children:_ref=>{let{blob,url,loading,error}=_ref;return loading?\"Loading document...\":\"Download PDF Report\";}})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:item.date}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:item.category}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:item.quantity})]},item._id))})]})]});};export default Reports;","map":{"version":3,"names":["React","useState","useEffect","PDFDownloadLink","Page","Text","View","Document","StyleSheet","jsx","_jsx","jsxs","_jsxs","pdfStyles","create","page","flexDirection","padding","section","marginBottom","header","fontSize","row","cell","flex","textAlign","Reports","items","setItems","startDate","setStartDate","endDate","setEndDate","fetchItems","url","concat","response","fetch","data","json","error","console","PdfReport","children","size","style","map","item","date","category","quantity","_id","className","type","value","onChange","e","target","document","fileName","_ref","blob","loading","scope"],"sources":["C:/Users/USER/Desktop/New folder (2)/mern-admin/src/dashboard/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  PDFDownloadLink,\r\n  Page,\r\n  Text,\r\n  View,\r\n  Document,\r\n  StyleSheet,\r\n} from \"@react-pdf/renderer\";\r\n\r\n// Define styles for the PDF report\r\nconst pdfStyles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: \"column\",\r\n    padding: 10,\r\n  },\r\n  section: {\r\n    marginBottom: 10,\r\n  },\r\n  header: {\r\n    fontSize: 20,\r\n    marginBottom: 10,\r\n  },\r\n  row: {\r\n    flexDirection: \"row\",\r\n  },\r\n  cell: {\r\n    flex: 1,\r\n    padding: 5,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nconst Reports = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n  }, [startDate, endDate]);\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      let url = \"/api/items\";\r\n      if (startDate && endDate) {\r\n        url += `?startDate=${startDate}&endDate=${endDate}`;\r\n      }\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      setItems(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching items:\", error);\r\n    }\r\n  };\r\n\r\n  // Define the PDF report component\r\n  const PdfReport = () => (\r\n    <Document>\r\n      <Page size=\"A4\" style={pdfStyles.page}>\r\n        <View style={pdfStyles.section}>\r\n          <Text style={pdfStyles.header}>Reports</Text>\r\n          <View style={pdfStyles.row}>\r\n            <Text style={pdfStyles.cell}>Date</Text>\r\n            <Text style={pdfStyles.cell}>Category</Text>\r\n            <Text style={pdfStyles.cell}>Quantity</Text>\r\n          </View>\r\n          {items.map((item) => (\r\n            <View style={pdfStyles.row} key={item._id}>\r\n              <Text style={pdfStyles.cell}>{item.date}</Text>\r\n              <Text style={pdfStyles.cell}>{item.category}</Text>\r\n              <Text style={pdfStyles.cell}>{item.quantity}</Text>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Reports</h1>\r\n      <div className=\"flex gap-4 mb-4\">\r\n        <input\r\n          type=\"date\"\r\n          value={startDate}\r\n          onChange={(e) => setStartDate(e.target.value)}\r\n          className=\"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={endDate}\r\n          onChange={(e) => setEndDate(e.target.value)}\r\n          className=\"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow\"\r\n        />\r\n        {/* PDFDownloadLink component to trigger download of the PDF report */}\r\n        <PDFDownloadLink document={<PdfReport />} fileName=\"report.pdf\">\r\n          {({ blob, url, loading, error }) =>\r\n            loading ? \"Loading document...\" : \"Download PDF Report\"\r\n          }\r\n        </PDFDownloadLink>\r\n      </div>\r\n      <table className=\"min-w-full divide-y divide-gray-200\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            <th\r\n              scope=\"col\"\r\n              className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n            >\r\n              Date\r\n            </th>\r\n            <th\r\n              scope=\"col\"\r\n              className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n            >\r\n              Category\r\n            </th>\r\n            <th\r\n              scope=\"col\"\r\n              className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n            >\r\n              Quantity\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n          {items.map((item) => (\r\n            <tr key={item._id}>\r\n              <td className=\"px-6 py-4 whitespace-nowrap\">{item.date}</td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap\">{item.category}</td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap\">{item.quantity}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}